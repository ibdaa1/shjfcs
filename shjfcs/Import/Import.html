<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <title>استيراد و تصدير - إدارة الفحوصات</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="Import.css" />
</head>
<body dir="rtl" lang="ar">
  <div class="container">
    <h1>نموذج فحص استيراد / تصدير</h1>

    <form id="inspectionForm" autocomplete="off">
      <input type="hidden" id="ID" name="ID" value="" />

      <!-- رقم الرخصة يدخل يدوياً -->
      <div class="row">
        <label>رقم الرخصة</label>
        <input type="text" id="license_no_input" name="license_no_input" placeholder="أدخل رقم الرخصة يدوياً" />
      </div>

      <!-- بعد إدخال رقم الرخصة، يتم ملء قائمة المعرفات الفريدة (unique_id) المتعلقة بها -->
      <div class="row">
        <label>المعرف الفريد (unique_id)</label>
        <select id="unique_id_select" name="unique_id_select">
          <option value="">-- اختر المعرف الفريد --</option>
        </select>
      </div>

      <div class="row">
        <label>تاريخ التسجيل</label>
        <input type="datetime-local" id="registration_date" name="registration_date" />
      </div>

      <div class="row">
        <label>المنفذ (Port)</label>
        <select id="entry_port_id" name="entry_port_id">
          <option value="">-- اختر منفذاً --</option>
        </select>
      </div>

      <div class="row">
        <label>رقم النظام</label>
        <input type="text" id="system_registration_no" name="system_registration_no" />
      </div>

      <div class="row">
        <label>عدد الحاويات</label>
        <input type="number" id="container_count" name="container_count" min="0" />
      </div>

      <div class="row">
        <label>أرقام الحاويات (مفصول بفواصل)</label>
        <input type="text" id="container_numbers" name="container_numbers" />
      </div>

      <div class="row">
        <label>تاريخ الفحص الفعلي</label>
        <input type="datetime-local" id="actual_inspection_date" name="actual_inspection_date" />
      </div>

      <div class="row">
        <label>المفتش</label>
        <select id="inspector_emp_id" name="inspector_emp_id">
          <option value="">-- اختر مفتشاً --</option>
        </select>
      </div>

      <div class="row">
        <label>نوع الإجراء</label>
        <select id="action_taken_id" name="action_taken_id">
          <option value="">-- اختر إجراء --</option>
        </select>
      </div>

      <div class="row">
        <label>ملاحظات</label>
        <textarea id="notes" name="notes" rows="3"></textarea>
      </div>

      <h2>المنتجات المرتبطة</h2>
      <div id="productsArea">
        <table id="productsTable" class="striped">
          <thead>
            <tr>
              <th>اسم المنتج</th>
              <th>الفئة</th>
              <th>الوزن</th>
              <th>الكمية</th>
              <th>بلد المنشأ</th>
              <th>تاريخ الإنتاج</th>
              <th>تاريخ الانتهاء</th>
              <th>ملاحظات</th>
              <th>إجراءات</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <div class="product-controls">
          <input type="text" id="p_product_name" placeholder="اسم المنتج" />
          <input type="text" id="p_brand_name" placeholder="الماركة" />
          <input type="number" step="0.01" id="p_weight" placeholder="الوزن" />
          <input type="number" step="0.01" id="p_quantity" placeholder="الكمية" />
          <select id="p_country_id"><option value="">بلد الإنتاج</option></select>
          <select id="p_category_id"><option value="">الفئة</option></select>
          <input type="date" id="p_production_date" />
          <input type="date" id="p_expiry_date" />
          <input type="text" id="p_notes" placeholder="ملاحظات" />
          <button id="addProductBtn" type="button">إضافة منتج</button>
        </div>
      </div>

      <div class="form-actions">
        <button id="saveBtn" type="submit">حفظ</button>
        <button id="resetBtn" type="button">مسح النموذج</button>
      </div>
    </form>

    <h2>قائمة الفحوصات</h2>
    <table id="inspectionsTable" class="striped">
      <thead>
        <tr>
          <th>#</th>
          <th>معرف</th>
          <th>تاريخ التسجيل</th>
          <th>المنفذ</th>
          <th>المفتش</th>
          <th>الإجراء</th>
          <th>ملاحظة</th>
          <th>عمليات</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <script src="Import.js"></script>
</body>
</html>
